<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./stylesheets/profile.css">
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Document</title>
  </head>

  <body>
    <!-- header -->

    <div class="pinterest">
      <div class="left">
        <a href="#" class="logo"><i class="fab fa-pinterest"></i></a>
        <a href="/" class="home">Home</a>
        <a href="#" class="create">Create</a>
      </div>
      <div class="search">
        <i class="fas fa-search"></i>
        <input type="search" name placeholder="search" id>
      </div>
      <div class="right">
        <a href="#" class="items"><i class="fas fa-bell"></i></a>
        <a href="#" class="items"><i
            class="far fa-comment-dots"></i></a>
        <a href="profile" class="avatar">
          <div class="img"><img
              src="https://images.unsplash.com/photo-1534308143481-c55f00be8bd7?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1488&q=80"
              alt></div>
        </a>
        <a href="#" class="items-down"><i
            class="fas fa-chevron-down"></i></a>
      </div>
    </div>

    <!-- PROFILE CARD  -->
    <div id="algn">
      <div id="card">
        <div id="upper-bg">
          <img
            src="https://i.pinimg.com/originals/d3/d1/75/d3d175e560ae133f1ed5cd4ec173751a.png"
            alt="profile-pic"
            class="profile-pic">
        </div>
        <div id="lower-bg">
          <div class="text">
            <p class="name">
              <%= user?.fullname %>
            </p>
            <p class="name">
              <%= user?.username%>
            </p>
            <p class="title">Web developer & <br> Competitive programmer</p>
          </div>
          <div id="icons">
            <a href="#" class="ico"><img width="48" height="48"
                src="https://img.icons8.com/color/48/gmail-new.png"
                alt="gmail-new" /></a>
            <a href="#" class="ico">
              <img width="48" height="48"
                src="https://img.icons8.com/fluency/48/github.png"
                alt="github" />
            </a>
            <a href="#" class="ico">
              <img width="48" height="48"
                src="https://img.icons8.com/color/48/linkedin.png"
                alt="linkedin" />
            </a>
            <a href="#" class="ico">
              <img width="48" height="48"
                src="https://img.icons8.com/color/48/facebook-new.png"
                alt="facebook-new" />
            </a>
          </div>
          <div id="btn">
            <a class="trigger">Make new Pin</a>
            <a class="msg" href="/logout">Logout</a>
          </div>
        </div>
      </div>
    </div>
    <!-- modal for make a new post  -->
    <div class="modal">
      <div class="modal-content">
        <span class="close-button">Ã—</span>
        <form action="/upload" method="post" enctype="multipart/form-data">
          <input type="file" class="detail" name="file" />
          <br />
          <input type="text" placeholder="Enter some caption here."
            class="detail" name="imageText" />
          <button type="submit" class="int">upload</button>
        </form>
      </div>
    </div>
    <!-- for show all  posts -->
    <div class="container">
      <div class="cards">
        <% user.posts.forEach(function(post){ %>
        <div class="card">
          <img class="img" src="images/uploads/<%= post.Image %>"
            alt="<%= post.imageText %>">
          <p class="caption">
            <%= post.imageText %>
          </p>
        </div>
        <% }) %>
      </div>
    </div>

    <script>
    var modal = document.querySelector(".modal");
    var trigger = document.querySelector(".trigger");
    var closeButton = document.querySelector(".close-button");

    function toggleModal() {
      modal.classList.toggle("show-modal");
    }

    function windowOnClick(event) {
      if (event.target === modal) {
        toggleModal();
      }
    }

    trigger.addEventListener("click", toggleModal);
    closeButton.addEventListener("click", toggleModal);
    window.addEventListener("click", windowOnClick);
  </script>
  </body>

</html>